
{%extends 'base.html'%}
{%block content%}
<div class="container mt-4">
   <h2 class="text-center">Monthly Doctor Appointment Report</h2>
            <table class="table table-striped table-bordered mt-4">
                <thead class="thead-dark">
                    <tr>
                        <th>Month</th>
                        <th>Doctor</th>
                        <th>Department</th>
                        <th>Appointment Count</th>

                    </tr>
                </thead>
                <tbody>
                     {%regroup  report_data by month as month_list %}
                        {%for month in month_list%}
                        {%for item in month.list%}
                    <tr>
                       {%if forloop.first%}

                        <td rowspan = "{{month.list|length}}"> {{month.grouper|date:"F Y"}}</td>
                        {%endif%}
                        <td>{{item.doctor__name}}</td>
                        <td>{{item.doctor__department}}</td>
                        <td>{{item.total}}</td>
                    </tr>
                    {%endfor%}
                    {%endfor%}
                </tbody>
            </table>

        </div>
{%endblock%}